generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

/// This model has been renamed to 'Renamedpackage' during introspection, because the original name 'package' is reserved.
model Renamedpackage {
  package_id             Int      @id @default(autoincrement())
  weight                 Float    @db.Float
  send_date              DateTime @db.Date
  type                   String   @db.VarChar(255)
  sender_name_location   String   @db.VarChar(255)
  sender_phone_number    String   @db.VarChar(255)
  sender_id              Int
  receiver_name_location String   @db.VarChar(255)
  receiver_id            Int
  receiver_phone_number  String?  @db.VarChar(255)
  success                Boolean?

  @@index([sender_id], map: "fk_package_post_1")
  @@index([receiver_id], map: "fk_package_post_2")
  @@map("package")
}

model post {
  post_id             Int       @id @default(autoincrement())
  location            String    @db.VarChar(255)
  type                post_type
  received_package    Int       @default(0)
  transported_package Int       @default(0)
}

model post_history {
  id                  Int       @id @default(autoincrement())
  destination_post_id Int
  request_post_id     Int
  package_id          Int
  request_date        DateTime  @db.Date
  verified_date       DateTime? @db.Date

  @@index([destination_post_id], map: "fk_post_history_post")
  @@index([package_id], map: "fk_post_history_package")
}

model status {
  status_id        Int       @id @default(autoincrement())
  package_id       Int
  post_id          Int
  location         String    @db.VarChar(255)
  received_date    DateTime? @db.Date
  transported_date DateTime? @db.Date

  @@index([package_id], map: "fk_status_package")
  @@index([post_id], map: "fk_status_post")
}

model user {
  uuid      String    @id @unique
  email     String    @unique @db.VarChar(255)
  full_name String    @db.VarChar(255)
  password  String    @db.VarChar(255)
  post_id   Int
  role      user_role

  @@index([post_id], map: "fk_user_post")
}

enum post_type {
  Hub
  Branch
}

enum user_role {
  BranchManager
  HubManager
  BranchStaff
  TransactionStaff
  Admin
}
